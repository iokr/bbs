<!Doctype html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/>
    <meta http-equiv="X-UA-Compatible" content="ie=edge"/>
    <title>登录</title>
    <!-- CSS files -->
    <link href="/static/tabler/dist/css/tabler.min.css" rel="stylesheet"/>
    <link href="/static/tabler/dist/css/tabler-flags.min.css" rel="stylesheet"/>
    <link href="/static/tabler/dist/css/tabler-payments.min.css" rel="stylesheet"/>
    <link href="/static/tabler/dist/css/tabler-vendors.min.css" rel="stylesheet"/>
    <link href="/static/tabler/dist/css/demo.min.css" rel="stylesheet"/>
    <style>
        @import url('https://rsms.me/inter/inter.css');

        :root {
            --tblr-font-sans-serif: 'Inter Var', -apple-system, BlinkMacSystemFont, San Francisco, Segoe UI, Roboto, Helvetica Neue, sans-serif;
        }

        body {
            font-feature-settings: "cv03", "cv04", "cv11";
        }
    </style>
</head>
<body class=" d-flex flex-column">
<script src="/static/tabler/dist/js/demo-theme.min.js"></script>
<div class="page page-center">
    <div class="container container-tight py-4">
        <div class="text-center mb-4">
            <a href="." class="navbar-brand navbar-brand-autodark">
                <img src="/static/tabler/src/static/logo.svg" height="36" alt="">
            </a>
        </div>
        <div class="card card-md">
            <div class="card-body">
                <h2 class="h2 text-center mb-4">登录</h2>
                <form id="user_login" action="#" method="post" autocomplete="off" novalidate>
                    <div class="mb-3">
                        <label class="form-label">邮箱</label>
                        <input type="email" class="form-control" name="email" placeholder="邮箱 @email.com"
                               autocomplete="off">
                    </div>
                    <div class="mb-2">
                        <label class="form-label">密码
                            <span class="form-label-description">
                                <a href="#forget_password">忘记密码</a>
                            </span>
                        </label>
                        <div class="input-group input-group-flat">
                            <input type="password" class="form-control" name="password" placeholder="密码"
                                   autocomplete="off">
                            <span class="input-group-text">
                                <a href="#" class="link-secondary" title="Show password" data-bs-toggle="tooltip">
                                  <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24"
                                       viewBox="0 0 24 24" stroke-width="2"
                                       stroke="currentColor" fill="none"
                                       stroke-linecap="round" stroke-linejoin="round">
                                    <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                                    <path d="M12 12m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"/>
                                    <path d="M22 12c-2.667 4.667 -6 7 -10 7s-7.333 -2.333 -10 -7c2.667 -4.667 6 -7 10 -7s7.333 2.333 10 7"/>
                                  </svg>
                                </a>
                            </span>
                        </div>
                    </div>
                    <div class="form-footer">
                        <button type="submit" class="btn btn-primary w-100">登录</button>
                    </div>
                </form>
            </div>
        </div>
        <div class="text-center text-muted mt-3">
            还没有账户? <a href="/register" tabindex="-1">注册</a>
        </div>
    </div>
</div>
<!-- Libs JS -->
<script src="/static/lib/jquery-3.6.4.min.js"></script>
<script src="/static/lib/jquery.form.min.js"></script>

<!-- Tabler Core -->
<script src="/static/tabler/dist/js/tabler.min.js" defer></script>
<script src="/static/tabler/dist/js/demo.min.js" defer></script>

<script type="text/javascript">
    $(document).ready(function () {
        $('#user_login').ajaxForm({
            url: "/login",
            type: "post",
            success: function (result) {
                if (result.code == 0) {
                    window.location.href = "/user/article";
                } else {
                    alert(result.message);
                    $("#msg").text(result.result);
                    $("#msg").addClass("text-danger");
                }
            }
        });
    });
</script>
</body>
</html>